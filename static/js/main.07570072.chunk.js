(this["webpackJsonpmaster-ticket"]=this["webpackJsonpmaster-ticket"]||[]).push([[0],{106:function(e,t,n){},150:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),r=n.n(s),c=n(18),i=n.n(c),o=n(57),l=n(107),d=n(88),u=[];function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(d.a)({},t.payload);case"REMOVE_USER":return u;default:return Object(d.a)({},e)}}var h=n(40),m=[];function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CUSTOMERS":return Object(h.a)(t.payload);case"ADD_CUSTOMER":return e.concat(t.payload);case"REMOVE_CUSTOMER":return e.filter((function(e){return e._id!==t.payload}));default:return Object(h.a)(e)}}var b=[];function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DEPARTMENT":return e.concat(t.payload);case"GET_DEPARTMENTS":return t.payload;case"REMOVE_DEPARTMENT":return e.filter((function(e){return e._id!==t.payload}));default:return Object(h.a)(e)}}var x=[];function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EMPLOYEE":return e.concat(t.payload);case"REMOVE_EMPLOYEE":return e.filter((function(e){return e._id!==t.payload}));case"EDIT_EMPLOYEE":return e.map((function(e){return e._id===t.payload.id?Object.assign({},e,t.payload.data):Object.assign({},e)}));case"GET_EMPLOYEES":return t.payload;default:return Object(h.a)(e)}}var g=[];function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TICKET":return e.concat(t.payload);case"REMOVE_TICKET":return e.filter((function(e){return e._id!==t.payload}));case"EDIT_TICKET":return e.map((function(e){return e._id===t.payload.id?Object.assign({},e,t.payload.data):Object.assign({},e)}));case"EDIT_TICKET_CHECKBOX":return e.map((function(e){return e._id===t.payload?Object.assign({},e,{isResolved:!e.isResolved}):Object.assign({},e)}));case"GET_TICKET":return t.payload;default:return Object(h.a)(e)}}var y=function(){return Object(o.d)(Object(o.c)({users:j,customers:p,departments:O,employees:f,tickets:v}),Object(o.a)(l.a))},k=n(11),C=n(21),w=n.p+"static/media/ticket.7ee3e011.png";var _=function(){return Object(a.jsxs)("div",{align:"center",children:[Object(a.jsx)("br",{}),Object(a.jsx)("h1",{style:{color:"Red"},children:"You are welcome in the Ticket Master's World"}),Object(a.jsx)("div",{style:{width:"800px",height:"400px"},children:Object(a.jsx)("img",{src:w,width:800,height:400,alt:"loading"})})]})},S=n(10),D=n(14),E=n(15),T=n(17),R=n(16),M=n(8),P=n(109),I=n.n(P).a.create({baseURL:"https://dct-ticket-master.herokuapp.com"}),A=n(19),N=n.n(A),B=function(){return{type:"REMOVE_USER"}},Y=function(e){return{type:"SET_USER",payload:e}},L=n(152),F=n(190),V=n(189),W=n(186),H=n(207),U=n(188),G=n(65),K=n.n(G),q=n(66),J=n.n(q),X=n(187),z=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(){var e;return Object(D.a)(this,n),(e=t.call(this)).handleChange=function(t){e.setState(Object(S.a)({},t.target.name,t.target.value))},e.handleClickShowPassword=function(t){e.setState({showpassword:!e.state.showpassword})},e.handleMouseDownPassword=function(e){e.preventDefault()},e.hanldeSubmit=function(t){if(t.preventDefault(),0!==e.state.email){var n={email:e.state.email,password:e.state.password};e.props.dispatch(function(e,t){return function(n){I.post("/users/login",e).then((function(e){e.data.hasOwnProperty("error")?N.a.fire({icon:"error",title:"Oops...",text:e.data.error}):(localStorage.setItem("authToken",e.data.token),I.get("/users/account",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){var a=e.data;N.a.fire({icon:"success",title:"Sucessfully Logged in",showConfirmButton:!1,timer:1500}),n(Y(a)),t()})))}))}}(n,(function(){return e.props.history.push("/")})))}},e.state={email:"",password:"",showpassword:!1},e}return Object(E.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{align:"center",children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(L.a,{variant:"h4",children:"Login"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("form",{children:[Object(a.jsxs)(W.a,{variant:"filled",children:[Object(a.jsx)(H.a,{htmlFor:"component-email-outlined",children:"Email"}),Object(a.jsx)(X.a,{style:{width:250},id:"component-email-outlined",type:"text",name:"email",value:this.state.email,onChange:this.handleChange})," "]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)(W.a,{variant:"filled",children:[Object(a.jsx)(H.a,{htmlFor:"component-email-outlined",children:"Password"}),Object(a.jsx)(X.a,{id:"component-email-outlined",style:{width:250},type:this.state.showpassword?"text":"password",name:"password",value:this.state.password,onChange:this.handleChange,endAdornment:Object(a.jsx)(U.a,{position:"end",children:Object(a.jsx)(V.a,{"aria-label":"toggle password visibility",onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword,children:this.state.showpassword?Object(a.jsx)(K.a,{}):Object(a.jsx)(J.a,{})})})})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(F.a,{variant:"contained",color:"default",onClick:this.hanldeSubmit,children:"LOGIN"})]})]})}}]),n}(s.Component),Q=Object(M.b)((function(e){return{users:e.users}}))(z),Z=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(){var e;return Object(D.a)(this,n),(e=t.call(this)).handleChange=function(t){e.setState(Object(S.a)({},t.target.name,t.target.value))},e.handleClickShowPassword=function(t){e.setState({showpassword:!e.state.showpassword})},e.handleMouseDownPassword=function(e){e.preventDefault()},e.handleSubmit=function(t){if(t.preventDefault(),e.state.password===e.state.confirmPassword){var n={username:e.state.username,email:e.state.email,password:e.state.password};e.props.dispatch(function(e,t){return function(n){I.post("/users/register",e).then((function(e){console.log(e.data),e.data.hasOwnProperty("errors")?N.a.fire({icon:"error",title:"Oops...",text:e.data.message}):(N.a.fire({icon:"success",title:"Sucessfully Registered,Now You can Log in",showConfirmButton:!1,timer:2e3}),t())}))}}(n,(function(){return e.props.history.push("/users/login")})))}else N.a.fire({icon:"error",title:"Your passwords donot match"})},e.state={username:"",email:"",password:"",confirmPassword:"",showpassword:!1},e}return Object(E.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{align:"center",children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(L.a,{variant:"h4",children:"Register"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("form",{children:[Object(a.jsxs)(W.a,{variant:"filled",children:[Object(a.jsx)(H.a,{htmlFor:"component-name-outlined",children:"Username"}),Object(a.jsx)(X.a,{style:{width:250},id:"component-name-outlined",type:"text",name:"username",value:this.state.username,onChange:this.handleChange})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)(W.a,{variant:"filled",children:[Object(a.jsx)(H.a,{htmlFor:"component-email-outlined",children:"Email"}),Object(a.jsx)(X.a,{style:{width:250},id:"component-email-outlined",type:"text",name:"email",value:this.state.email,onChange:this.handleChange})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)(W.a,{variant:"filled",children:[Object(a.jsx)(H.a,{htmlFor:"component-email-outlined",children:"Password"}),Object(a.jsx)(X.a,{id:"component-email-outlined",style:{width:250},type:this.state.showpassword?"text":"password",name:"password",value:this.state.password,onChange:this.handleChange,endAdornment:Object(a.jsx)(U.a,{position:"end",children:Object(a.jsx)(V.a,{"aria-label":"toggle password visibility",onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword,children:this.state.showpassword?Object(a.jsx)(K.a,{}):Object(a.jsx)(J.a,{})})})})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)(W.a,{variant:"filled",children:[Object(a.jsx)(H.a,{htmlFor:"component-email-outlined",children:"Confirm Password"}),Object(a.jsx)(X.a,{id:"component-email-outlined",style:{width:250},type:this.state.showpassword?"text":"password",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleChange,endAdornment:Object(a.jsx)(U.a,{position:"end",children:Object(a.jsx)(V.a,{"aria-label":"toggle password visibility",onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword,children:this.state.showpassword?Object(a.jsx)(K.a,{}):Object(a.jsx)(J.a,{})})})})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(F.a,{onClick:this.handleSubmit,variant:"contained",children:"REGISTER"})]})]})}}]),n}(s.Component),$=Object(M.b)((function(e){return{users:e.users}}))(Z),ee=n(202),te=n(203),ne=n(204),ae=n(191),se=n(195),re=n(194),ce=n(192),ie=n(193),oe=function(){return function(e){I.get("/customers",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){var n=t.data;console.log(n),e(le(n))}))}},le=function(e){return{type:"GET_CUSTOMERS",payload:e}},de=function(e){return{type:"REMOVE_CUSTOMER",payload:e}},ue=function(e){return{type:"ADD_CUSTOMER",payload:e}};var je=Object(M.b)((function(e){return{customers:e.customers}}))((function(e){e.dispatch(oe());var t=function(t){N.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(n){n.value&&(e.dispatch(function(e){return function(t){I.delete("/customers/".concat(e),{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(n){var a=n.data;t(de(e)),console.log(a)}))}}(t))&&window.location.reload(!1),N.a.fire("Deleted!","Your file has been deleted.","success"))}))};return Object(a.jsxs)("div",{align:"center",children:[Object(a.jsxs)("h1",{children:["Customers - ",e.customers.length]}),Object(a.jsxs)(ae.a,{style:{width:500},children:[Object(a.jsx)(ce.a,{children:Object(a.jsxs)(ie.a,{children:[Object(a.jsx)(re.a,{children:"ID"}),Object(a.jsx)(re.a,{align:"left",children:"Name"}),Object(a.jsx)(re.a,{align:"left",children:"Email"}),Object(a.jsx)(re.a,{align:"left",children:"Mobile"}),Object(a.jsx)(re.a,{align:"left",children:"Actions"}),Object(a.jsx)(re.a,{align:"left",children:"Remove"})]})}),Object(a.jsx)(se.a,{children:e.customers.map((function(e,n){return Object(a.jsxs)(ie.a,{children:[Object(a.jsx)(re.a,{component:"th",scope:"row",children:n}),Object(a.jsx)(re.a,{align:"left",children:e.name}),Object(a.jsx)(re.a,{align:"left",children:e.email}),Object(a.jsx)(re.a,{align:"left",children:e.mobile}),Object(a.jsx)(re.a,{align:"left",children:Object(a.jsx)(k.b,{to:"/users/customers/show/".concat(e._id),style:{textDecoration:"none"},children:Object(a.jsx)(F.a,{variant:"contained",color:"primary",children:"Show"})})}),Object(a.jsx)(re.a,{align:"left",children:Object(a.jsx)(F.a,{variant:"contained",color:"secondary",onClick:function(){return t(e._id)},children:"Remove"})})]},e._id)}))})]}),Object(a.jsx)("br",{}),Object(a.jsx)(k.b,{to:"/users/customers/new",style:{textDecoration:"none"},children:Object(a.jsx)(F.a,{variant:"contained",color:"primary",children:"Add Customer"})})]})})),he=n(208),me=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(D.a)(this,n),(a=t.call(this,e)).handleClick=function(e){e.preventDefault();var t={name:a.state.name,email:a.state.email,mobile:a.state.mobile};console.log(t);a.props.dispatch(function(e,t){return function(n){I.post("/customers",e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){var a=e.data;a.hasOwnProperty("errors")?alert(a._message):(n(ue(a)),t())}))}}(t,(function(){return a.props.history.push("/users/customers")})))},a.handleChange=function(e){a.setState(Object(S.a)({},e.target.name,e.target.value))},a.state={name:"",email:"",mobile:""},a}return Object(E.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{align:"center",children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(L.a,{variant:"h4",children:"Add User"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("form",{children:[Object(a.jsx)(he.a,{type:"text",label:"Name",variant:"filled",name:"name",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)(he.a,{type:"text",label:"Email",variant:"filled",name:"email",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)(he.a,{type:"text",label:"Mobile",variant:"filled",name:"mobile",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(F.a,{variant:"contained",onClick:this.handleClick,children:"Submit"})]})]})}}]),n}(s.Component),pe=Object(M.b)((function(e){return{customers:e.customers}}))(me),be=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(D.a)(this,n),(a=t.call(this,e)).handleClick=function(e){e.preventDefault();var t={name:a.state.name,email:a.state.email,mobile:a.state.mobile};a.props.dispatch(function(e,t,n){return function(a){I.put("/customers/".concat(t),e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){console.log(e.data),n()}))}}(t,a.props.match.params.id,(function(){return a.props.history.push("/users/customers")})))},a.handleChange=function(e){a.setState(Object(S.a)({},e.target.name,e.target.value))},a.state={name:"",email:"",mobile:"",num:0},a}return Object(E.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({name:e.props.customers.name,email:e.props.customers.email,mobile:e.props.customers.mobile})}),700)}},{key:"render",value:function(){return console.log(this.props.customers,"this is customer"),Object(a.jsxs)("div",{align:"center",children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(L.a,{variant:"h4",children:"Add User"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("form",{children:[Object(a.jsx)(he.a,{type:"text",label:"Name",value:this.state.name,variant:"filled",name:"name",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)(he.a,{type:"text",label:"Email",value:this.state.email,variant:"filled",name:"email",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)(he.a,{type:"text",label:"Mobile",value:this.state.mobile,variant:"filled",name:"mobile",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(F.a,{variant:"contained",onClick:this.handleClick,children:"Submit"})]})]})}}]),n}(s.Component),Oe=Object(M.b)((function(e,t){var n=t.match.params.id;return console.log(n),{customers:e.customers.find((function(e){return String(e._id)===String(n)}))}}))(be),xe=n(197),fe=n(111),ge=function(){return function(e){I.get("/departments",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){var n=t.data;e(ve(n))}))}},ve=function(e){return{type:"GET_DEPARTMENTS",payload:e}},ye=function(e){return{type:"REMOVE_DEPARTMENT",payload:e}},ke=function(e){return{type:"ADD_DEPARTMENT",payload:e}},Ce=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(){var e;return Object(D.a)(this,n),(e=t.call(this)).handleClick=function(t){t.preventDefault();var n={name:e.state.name};e.props.dispatch(function(e){return function(t){I.post("/departments",e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(n){console.log(n.data),t(ke(e))}))}}(n))},e.handleRemove=function(t){N.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(n){n.value&&(e.props.dispatch(function(e){return function(t){I.delete("/departments/".concat(e),{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(n){console.log(n.data),n.data.hasOwnProperty("name")?t(ye(e)):alert("failed to delete the record please check your internet connection")}))}}(t))&&window.location.reload(!1),N.a.fire("Deleted!","Your file has been deleted.","success"))}))},e.handleChange=function(t){e.setState(Object(S.a)({},t.target.name,t.target.value))},e.state={name:""},e}return Object(E.a)(n,[{key:"componentWillMount",value:function(){this.props.dispatch(ge())}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{align:"center",children:[Object(a.jsxs)("h1",{children:["Departments-",this.props.departments.length]}),Object(a.jsx)(xe.a,{component:fe.a,children:Object(a.jsxs)(ae.a,{style:{width:600},children:[Object(a.jsx)(ce.a,{children:Object(a.jsxs)(ie.a,{children:[Object(a.jsx)(re.a,{children:"Departments"}),Object(a.jsx)(re.a,{align:"left",children:"Action"}),Object(a.jsx)(re.a,{align:"left",children:"Remove"})]})}),Object(a.jsx)(se.a,{children:this.props.departments.map((function(t){return Object(a.jsxs)(ie.a,{children:[Object(a.jsx)(re.a,{component:"th",scope:"row",children:t.name}),Object(a.jsx)(re.a,{align:"left",children:Object(a.jsx)(k.b,{to:"/users/departments/".concat(t._id),style:{textDecoration:"none"},children:Object(a.jsx)(F.a,{variant:"contained",color:"primary",children:"Show"})})}),Object(a.jsx)(re.a,{align:"left",children:Object(a.jsx)(F.a,{variant:"contained",color:"secondary",onClick:function(){return e.handleRemove(t._id)},children:"Remove"})})]},t.name)}))})]})}),Object(a.jsx)("br",{}),Object(a.jsxs)("form",{onSubmit:this.handleClick,children:[Object(a.jsx)(he.a,{type:"text",label:"Add Department",value:this.state.name,variant:"filled",name:"name",onChange:this.handleChange,style:{height:30}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(he.a,{type:"submit",value:"ADD",color:"primary"})]})]})}}]),n}(s.Component),we=Object(M.b)((function(e){return{departments:e.departments}}))(Ce),_e=function(){return function(e){I.get("/employees",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){var n=t.data;e(Se(n))}))}},Se=function(e){return{type:"GET_EMPLOYEES",payload:e}},De=function(e){return function(t){I.delete("/employees/".concat(e),{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(n){console.log(n.data),n.data.hasOwnProperty("name")?t(Ee(e)):alert("failed to delete the record please check your internet connection")}))}},Ee=function(e){return{type:"REMOVE_EMPLOYEE",payload:e}},Te=function(e){return{type:"ADD_EMPLOYEE",payload:e}},Re=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(){var e;Object(D.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).handleRemove=function(t){N.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(n){n.value&&(e.props.dispatch(De(t))&&window.location.reload(!1),N.a.fire("Deleted!","Your file has been deleted.","success"))}))},e.handleChange=function(t){e.setState(Object(S.a)({},t.target.name,t.target.value))},e}return Object(E.a)(n,[{key:"componentWillMount",value:function(){this.props.dispatch(_e())}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{align:"center",children:[Object(a.jsxs)("h1",{children:["Employees-",this.props.employees.length]}),Object(a.jsx)(xe.a,{component:fe.a,children:Object(a.jsxs)(ae.a,{style:{width:900},children:[Object(a.jsx)(ce.a,{children:Object(a.jsxs)(ie.a,{children:[Object(a.jsx)(re.a,{children:"#"}),Object(a.jsx)(re.a,{children:"Name"}),Object(a.jsx)(re.a,{align:"left",children:"Email"}),Object(a.jsx)(re.a,{align:"left",children:"Mobile"}),Object(a.jsx)(re.a,{align:"left",children:"Department"}),Object(a.jsx)(re.a,{align:"left",children:"Action"}),Object(a.jsx)(re.a,{align:"left",children:"Remove"})]})}),Object(a.jsx)(se.a,{children:this.props.employees.map((function(t,n){return Object(a.jsxs)(ie.a,{children:[Object(a.jsx)(re.a,{component:"th",scope:"row",children:n+1}),Object(a.jsx)(re.a,{align:"left",children:t.name}),Object(a.jsx)(re.a,{align:"left",children:t.email}),Object(a.jsx)(re.a,{align:"left",children:t.mobile}),Object(a.jsx)(re.a,{align:"left",children:t.department.name}),Object(a.jsx)(re.a,{align:"left",children:Object(a.jsx)(k.b,{to:"/users/employees/show/".concat(t._id),style:{textDecoration:"none"},children:Object(a.jsx)(F.a,{variant:"contained",color:"primary",children:"Show"})})}),Object(a.jsx)(re.a,{align:"left",children:Object(a.jsx)(F.a,{variant:"contained",color:"secondary",onClick:function(){return e.handleRemove(t._id)},children:"Remove"})})]},t.name)}))})]})}),Object(a.jsx)("br",{}),Object(a.jsx)(k.b,{to:"/users/employees/new",style:{textDecoration:"none"},children:Object(a.jsx)(F.a,{variant:"contained",color:"primary",children:"Add Employee"})})]})}}]),n}(s.Component),Me=Object(M.b)((function(e){return{employees:e.employees}}))(Re),Pe=n(46),Ie=n(206),Ae=n(200),Ne=n(198),Be=n(199);var Ye=function(e){return Object(a.jsxs)("div",{align:"center",children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),e.tickets.map((function(e,t){return Object(a.jsxs)("div",{children:[Object(a.jsx)(Ne.a,{style:{width:500,background:e.isResolved?"green":"#d92626",color:"white"},children:Object(a.jsxs)(Be.a,{children:[Object(a.jsxs)(L.a,{variant:"body2",component:"p",align:"left",children:["Code:",e.code,Object(a.jsx)("br",{}),"Message:",e.message,Object(a.jsx)("br",{}),"Employees:",e.employees.map((function(e){return Object(a.jsx)("li",{children:e},e)})),"Customer:",e.customer,Object(a.jsx)("br",{}),"Department:",e.department,Object(a.jsx)("br",{})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{})]})}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{})]},e._id)}))]})};var Le=Object(M.b)((function(e,t){var n=t.match.params.id;return{cust:e.customers.find((function(e){return e._id===n})),customers:e.customers,tickets:e.tickets,employees:e.employees,departments:e.departments}}))((function(e){var t=r.a.useState(0),n=Object(Pe.a)(t,2),s=n[0],c=n[1],i=0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length?e.tickets.map((function(t){return{_id:t._id,code:t.code,isResolved:t.isResolved,message:t.message,employees:t.employees.map((function(t){return e.employees.find((function(e){return e._id===t._id})).name})),department:e.departments.find((function(e){return e._id===t.department})).name,customer:e.customers.find((function(e){return e._id===t.customer})).name}})):"";return Object(a.jsx)("div",{align:"center",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:void 0!==e.cust&&e.cust.email}),Object(a.jsx)(k.b,{to:"/users/customers/edit/".concat(e.match.params.id),style:{textDecoration:"none"},children:Object(a.jsx)(F.a,{color:"primary",variant:"contained",children:"Edit"})}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)(fe.a,{square:!0,children:Object(a.jsxs)(Ie.a,{onChange:function(e,t){c(t),console.log(s)},indicatorColor:"primary",textColor:"primary",value:s,centered:!0,children:[Object(a.jsx)(Ae.a,{label:"All"}),Object(a.jsx)(Ae.a,{label:"Pending"}),Object(a.jsx)(Ae.a,{label:"Completed"})]})}),0===Number(s)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&Object(a.jsx)(Ye,{tickets:i.filter((function(t){return t.customer===e.customers.find((function(t){return t._id===e.match.params.id})).name}))}),1===Number(s)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&Object(a.jsx)(Ye,{tickets:i.filter((function(t){return t.customer===e.customers.find((function(t){return t._id===e.match.params.id})).name})).filter((function(e){return!0!==e.isResolved}))}),2===Number(s)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&Object(a.jsx)(Ye,{tickets:i.filter((function(t){return t.customer===e.customers.find((function(t){return t._id===e.match.params.id})).name})).filter((function(e){return!0===e.isResolved}))})]})]})})})),Fe=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(D.a)(this,n),(a=t.call(this,e)).handleClick=function(e){e.preventDefault();var t={name:a.state.name};a.props.dispatch(function(e,t,n){return function(a){I.put("/departments/".concat(t),e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){console.log(e.data),n()}))}}(t,a.props.match.params.id,(function(){return a.props.history.push("/users/departments")})))},a.handleChange=function(e){a.setState(Object(S.a)({},e.target.name,e.target.value))},a.state={name:""},a}return Object(E.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({name:e.props.departments.name})}),700)}},{key:"render",value:function(){return console.log(this.props.departments,"this is customer"),Object(a.jsxs)("div",{align:"center",children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(L.a,{variant:"h4",children:"Edit Department"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("form",{children:[Object(a.jsx)(he.a,{type:"text",label:"Name",value:this.state.name,variant:"filled",name:"name",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(F.a,{variant:"contained",onClick:this.handleClick,children:"Submit"})]})]})}}]),n}(s.Component),Ve=Object(M.b)((function(e,t){var n=t.match.params.id;return console.log(n),{departments:e.departments.find((function(e){return e._id===n}))}}))(Fe);var We=Object(M.b)((function(e,t){var n=t.match.params.id;return console.log(e.departments,"departments"),console.log(n),{dep:e.departments.find((function(e){return e._id===n})),customers:e.customers,tickets:e.tickets,employees:e.employees,departments:e.departments}}))((function(e){console.log(e.name,"name");var t=r.a.useState(0),n=Object(Pe.a)(t,2),s=n[0],c=n[1],i=0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length?e.tickets.map((function(t){return{_id:t._id,code:t.code,isResolved:t.isResolved,message:t.message,employees:t.employees.map((function(t){return e.employees.find((function(e){return e._id===t._id})).name})),department:e.departments.find((function(e){return e._id===t.department})).name,customer:e.customers.find((function(e){return e._id===t.customer})).name}})):"";return Object(a.jsxs)("div",{align:"center",children:[Object(a.jsxs)("h1",{children:["Department : ",void 0!==e.dep&&e.dep.name]}),Object(a.jsx)(k.b,{to:"/departments/edit/".concat(e.match.params.id),style:{textDecoration:"none"},children:Object(a.jsx)(F.a,{variant:"contained",color:"primary",children:"Edit"})}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)(fe.a,{square:!0,children:Object(a.jsxs)(Ie.a,{onChange:function(e,t){c(t),console.log(s)},indicatorColor:"primary",textColor:"primary",value:s,centered:!0,children:[Object(a.jsx)(Ae.a,{label:"All"}),Object(a.jsx)(Ae.a,{label:"Pending"}),Object(a.jsx)(Ae.a,{label:"Completed"})]})}),0===Number(s)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&Object(a.jsx)(Ye,{tickets:i.filter((function(t){return t.department===e.departments.find((function(t){return t._id===e.match.params.id})).name}))}),1===Number(s)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&Object(a.jsx)(Ye,{tickets:i.filter((function(t){return t.department===e.departments.find((function(t){return t._id===e.match.params.id})).name})).filter((function(e){return!0!==e.isResolved}))}),2===Number(s)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&Object(a.jsx)(Ye,{tickets:i.filter((function(t){return t.department===e.departments.find((function(t){return t._id===e.match.params.id})).name})).filter((function(e){return!0===e.isResolved}))})]})]})})),He=n(196),Ue=n(209),Ge=n(205),Ke=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(D.a)(this,n),(a=t.call(this,e)).handleChangeDropDown=function(e){console.log(e.target.value),a.setState({department:e.target.value})},a.handleClick=function(e){e.preventDefault();var t={name:a.state.name,email:a.state.email,mobile:a.state.mobile,department:a.state.department};console.log(t);a.props.dispatch(function(e,t){return function(n){I.post("/employees",e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(a){console.log(a.data),n(Te(e)),t()}))}}(t,(function(){return a.props.history.push("/users/employees")})))},a.handleChange=function(e){a.setState(Object(S.a)({},e.target.name,e.target.value))},a.state={name:"",email:"",mobile:"",department:""},a}return Object(E.a)(n,[{key:"render",value:function(){return console.log(this.props.employees,"this is empl"),Object(a.jsxs)("div",{align:"center",children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(L.a,{variant:"h4",children:"Add Employee data"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("form",{children:[Object(a.jsx)(he.a,{type:"text",label:"Name",value:this.state.name,variant:"filled",name:"name",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)(he.a,{type:"text",label:"Email",value:this.state.email,variant:"filled",name:"email",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)(he.a,{type:"text",label:"Mobile",value:this.state.mobile,variant:"filled",name:"mobile",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsxs)(W.a,{style:{margin:1,minWidth:210},children:[Object(a.jsx)(H.a,{htmlFor:"grouped-select",children:"Department"}),Object(a.jsx)(Ge.a,{defaultValue:"",input:Object(a.jsx)(He.a,{id:"grouped-select",value:this.state.department}),onClick:this.handleChangeDropDown,children:this.props.departments.map((function(e){return Object(a.jsx)(Ue.a,{value:e._id,children:e.name},e._id)}))})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(F.a,{variant:"contained",onClick:this.handleClick,children:"Submit"})]})]})}}]),n}(s.Component),qe=Object(M.b)((function(e,t){var n=t.match.params.id;return console.log(n),{employees:e.employees.find((function(e){return String(e._id)===String(n)})),departments:e.departments}}))(Ke);var Je=Object(M.b)((function(e,t){var n=t.match.params.id;return{emp:e.employees.find((function(e){return e._id===n})),customers:e.customers,tickets:e.tickets,employees:e.employees,departments:e.departments}}))((function(e){var t=r.a.useState(0),n=Object(Pe.a)(t,2),s=n[0],c=n[1],i=0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length?e.tickets.map((function(t){return{_id:t._id,code:t.code,isResolved:t.isResolved,message:t.message,employees:t.employees.map((function(t){return e.employees.find((function(e){return e._id===t._id})).name})),department:e.departments.find((function(e){return e._id===t.department})).name,customer:e.customers.find((function(e){return e._id===t.customer})).name}})):"";return console.log(i,"formData"),Object(a.jsxs)("div",{align:"center",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:void 0!==e.emp&&e.emp.email}),Object(a.jsx)(k.b,{to:"/users/employees/edit/".concat(e.match.params.id),style:{textDecoration:"none"},children:Object(a.jsx)(F.a,{color:"primary",variant:"contained",children:"Edit"})}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(fe.a,{square:!0,children:Object(a.jsxs)(Ie.a,{onChange:function(e,t){c(t),console.log(s)},indicatorColor:"primary",textColor:"primary",value:s,centered:!0,children:[Object(a.jsx)(Ae.a,{label:"All"}),Object(a.jsx)(Ae.a,{label:"Pending"}),Object(a.jsx)(Ae.a,{label:"Completed"})]})}),0===Number(s)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&Object(a.jsx)(Ye,{tickets:i.filter((function(t){return t.employees.includes(e.emp.name)}))}),1===Number(s)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&Object(a.jsx)(Ye,{tickets:i.filter((function(t){return t.employees.includes(e.emp.name)})).filter((function(e){return!0!==e.isResolved}))}),2===Number(s)&&0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&i.filter((function(e){return!0===e.isResolved})).length>1&&Object(a.jsx)(Ye,{tickets:i.filter((function(t){return t.employees.includes(e.emp.name)})).filter((function(e){return!0===e.isResolved}))})]})]})})),Xe=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(D.a)(this,n),(a=t.call(this,e)).handleChangeDropDown=function(e){a.setState({department:e.target.value})},a.handleClick=function(e){e.preventDefault();var t={name:a.state.name,email:a.state.email,mobile:a.state.mobile,department:a.state.department};a.props.dispatch(function(e,t,n){return function(a){I.put("/employees/".concat(t),e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){console.log(e.data),n()}))}}(t,a.props.match.params.id,(function(){return a.props.history.push("/users/employees")})))},a.handleChange=function(e){a.setState(Object(S.a)({},e.target.name,e.target.value))},a.state={name:"",email:"",mobile:"",department:""},a}return Object(E.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({name:e.props.employees.name,email:e.props.employees.email,mobile:e.props.employees.mobile,department:e.props.employees.department._id})}),1e3)}},{key:"render",value:function(){return console.log(this.props.employees,"this is empl"),Object(a.jsxs)("div",{align:"center",children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(L.a,{variant:"h4",children:"Edit Employee data"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("form",{children:[Object(a.jsx)(he.a,{type:"text",label:"Name",value:this.state.name,variant:"filled",name:"name",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)(he.a,{type:"text",label:"Email",value:this.state.email,variant:"filled",name:"email",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)(he.a,{type:"text",label:"Mobile",value:this.state.mobile,variant:"filled",name:"mobile",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsxs)(W.a,{style:{margin:1,minWidth:210},children:[Object(a.jsx)(H.a,{htmlFor:"grouped-select",children:"Grouping"}),Object(a.jsx)(Ge.a,{defaultValue:"",input:Object(a.jsx)(He.a,{id:"grouped-select",value:this.state.department}),onClick:this.handleChangeDropDown,children:this.props.departments.map((function(e){return Object(a.jsx)(Ue.a,{value:e._id,children:e.name},e._id)}))})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(F.a,{variant:"contained",onClick:this.handleClick,children:"Submit"})]})]})}}]),n}(s.Component),ze=Object(M.b)((function(e,t){var n=t.match.params.id;return console.log(n),{employees:e.employees.find((function(e){return String(e._id)===String(n)})),departments:e.departments}}))(Xe),Qe=function(){return function(e){I.get("/tickets",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){var n=t.data;e(Ze(n))}))}},Ze=function(e){return{type:"GET_TICKET",payload:e}},$e=function(e){return function(t){I.delete("/tickets/".concat(e),{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(n){console.log(n.data),n.data.hasOwnProperty("message")?t(et(e)):alert("failed to delete the record please check your internet connection")}))}},et=function(e){return{type:"REMOVE_TICKET",payload:e}},tt=function(e,t){return{type:"EDIT_TICKET",payload:{id:e,data:t}}},nt=function(e){return{type:"ADD_TICKET",payload:e}},at=function(e,t){return function(n){I.put("/tickets/".concat(t),e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(e){console.log(e.data),n(st(t))}))}},st=function(e){return{type:"EDIT_TICKET_CHECKBOX",payload:e}},rt=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(){var e;return Object(D.a)(this,n),(e=t.call(this)).handleSearch=function(t){console.log(t.target.value);var n=String(t.target.value);console.log(n),console.log(e.state.tickets,"tickse"),e.setState({message:t.target.value});var a=e.state.tickets.filter((function(e){return e.code.includes(t.target.value)}));a&&e.setState({tickets:a}),0===t.target.value.length&&e.setState({tickets:e.props.tickets})},e.handleCheckbox=function(t,n){var a=e.state.tickets.filter((function(e){return e._id!==n}));e.setState({tickets:a});var s={isResolved:t.target.checked};e.props.dispatch(at(s,n))},e.handleRemove=function(t){var n=e.state.tickets.filter((function(e){return e._id!==t}));e.setState({tickets:n}),N.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(n){n.value&&(e.props.dispatch($e(t))&&window.location.reload(!1),N.a.fire("Deleted!","Your file has been deleted.","success"))}))},e.handleChange=function(t){e.setState(Object(S.a)({},t.target.name,t.target.value))},e.state={tickets:[],message:""},e}return Object(E.a)(n,[{key:"componentWillMount",value:function(){var e=this;setTimeout((function(){console.log(e.props.tickets,"comp tick"),e.setState({tickets:e.props.tickets})}),700)}},{key:"render",value:function(){var e=this;return console.log(this.state.tickets,"tickets"),Object(a.jsxs)("div",{align:"center",children:[Object(a.jsxs)("h1",{children:["Tickets-",this.props.tickets.length]}),Object(a.jsx)(He.a,{placeholder:"Search",variant:"outlined",type:"search",onChange:this.handleSearch,value:this.state.message}),Object(a.jsx)("br",{}),Object(a.jsx)(xe.a,{component:fe.a,children:Object(a.jsxs)(ae.a,{children:[Object(a.jsx)(ce.a,{children:Object(a.jsxs)(ie.a,{children:[Object(a.jsx)(re.a,{children:"Code No"}),Object(a.jsx)(re.a,{children:"Customer"}),Object(a.jsx)(re.a,{align:"left",children:"Department"}),Object(a.jsx)(re.a,{align:"left",children:"Employees"}),Object(a.jsx)(re.a,{align:"left",children:"Message"}),Object(a.jsx)(re.a,{align:"left",children:"Priority"}),Object(a.jsx)(re.a,{align:"left",children:"Actions"}),Object(a.jsx)(re.a,{align:"left",children:"Remove"}),Object(a.jsx)(re.a,{align:"left",children:"Complete"})]})}),Object(a.jsx)(se.a,{children:this.state.tickets.map((function(t,n){return Object(a.jsxs)(ie.a,{children:[Object(a.jsx)(re.a,{component:"th",scope:"row",children:t.code}),Object(a.jsx)(re.a,{align:"left",children:0!==e.props.customers.length&&e.props.customers.find((function(e){return e._id===t.customer})).name}),Object(a.jsx)(re.a,{align:"left",children:0!==e.props.departments.length&&e.props.departments.find((function(e){return e._id===t.department})).name}),Object(a.jsx)(re.a,{align:"left",children:0!==e.props.employees.length&&t.employees.map((function(n,s){return Object(a.jsx)("p",{children:0!==e.props.employees.length&&e.props.employees.find((function(e){return e._id===t.employees[s]._id})).name},s)}))}),Object(a.jsx)(re.a,{align:"left",children:t.message}),Object(a.jsx)(re.a,{align:"left",children:t.priority}),Object(a.jsx)(re.a,{align:"left",children:Object(a.jsx)(k.b,{to:"/users/ticket/show/".concat(t._id),style:{textDecoration:"none"},children:Object(a.jsx)(F.a,{variant:"contained",color:"primary",children:"Show"})})}),Object(a.jsx)(re.a,{align:"left",children:Object(a.jsx)(F.a,{variant:"contained",color:"secondary",onClick:function(){return e.handleRemove(t._id)},children:"Remove"})}),Object(a.jsx)(re.a,{align:"left",children:Object(a.jsx)("input",{type:"checkbox",checked:t.isResolved,onChange:function(n){return e.handleCheckbox(n,t._id)}})})]},t._id)}))})]})}),Object(a.jsx)("br",{})]})}}]),n}(s.Component),ct=Object(M.b)((function(e){return{tickets:e.tickets.filter((function(e){return!e.isResolved})),customers:e.customers,employees:e.employees,departments:e.departments}}))(rt),it=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(){var e;return Object(D.a)(this,n),(e=t.call(this)).handleSearch=function(t){console.log(t.target.value);var n=String(t.target.value);console.log(n),console.log(e.state.tickets,"tickse"),e.setState({message:t.target.value});var a=e.state.tickets.filter((function(e){return e.code.includes(t.target.value)}));a&&e.setState({tickets:a}),0===t.target.value.length&&e.setState({tickets:e.props.tickets})},e.handleRemove=function(t){var n=e.state.tickets.filter((function(e){return e._id!==t}));e.setState({tickets:n}),N.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(n){n.value&&(e.props.dispatch($e(t))&&window.location.reload(!1),N.a.fire("Deleted!","Your file has been deleted.","success"))}))},e.handleCheckbox=function(t,n){var a=e.state.tickets.filter((function(e){return e._id!==n}));e.setState({tickets:a});var s={isResolved:t.target.checked};e.props.dispatch(at(s,n))},e.handleChange=function(t){e.setState(Object(S.a)({},t.target.name,t.target.value))},e.state={tickets:[],message:""},e}return Object(E.a)(n,[{key:"componentWillMount",value:function(){var e=this;setTimeout((function(){console.log(e.props.tickets,"comp tick"),e.setState({tickets:e.props.tickets})}),900)}},{key:"render",value:function(){var e=this;return console.log(this.props.tickets,"tickets"),Object(a.jsx)("div",{align:"center",children:0!==this.props.tickets.length?Object(a.jsxs)(a.Fragment,{children:[" ",Object(a.jsxs)("h1",{children:["Tickets-",this.props.tickets.length]}),Object(a.jsx)(He.a,{placeholder:"Search",variant:"outlined",type:"search",onChange:this.handleSearch,value:this.state.message}),Object(a.jsx)("br",{}),Object(a.jsx)(xe.a,{component:fe.a,children:Object(a.jsxs)(ae.a,{children:[Object(a.jsx)(ce.a,{children:Object(a.jsxs)(ie.a,{children:[Object(a.jsx)(re.a,{children:"Code No"}),Object(a.jsx)(re.a,{children:"Customer"}),Object(a.jsx)(re.a,{align:"left",children:"Department"}),Object(a.jsx)(re.a,{align:"left",children:"Employees"}),Object(a.jsx)(re.a,{align:"left",children:"Message"}),Object(a.jsx)(re.a,{align:"left",children:"Priority"}),Object(a.jsx)(re.a,{align:"left",children:"Actions"}),Object(a.jsx)(re.a,{align:"left",children:"Remove"}),Object(a.jsx)(re.a,{align:"left",children:"Complete"})]})}),Object(a.jsx)(se.a,{children:this.state.tickets.map((function(t,n){return Object(a.jsxs)(ie.a,{children:[Object(a.jsx)(re.a,{component:"th",scope:"row",children:t.code}),Object(a.jsx)(re.a,{align:"left",children:0!==e.props.customers.length&&e.props.customers.find((function(e){return e._id===t.customer})).name}),Object(a.jsx)(re.a,{align:"left",children:0!==e.props.departments.length&&e.props.departments.find((function(e){return e._id===t.department})).name}),Object(a.jsx)(re.a,{align:"left",children:0!==e.props.employees.length&&t.employees.map((function(n,s){return Object(a.jsx)("p",{children:0!==e.props.employees.length&&e.props.employees.find((function(e){return e._id===t.employees[s]._id})).name},s)}))}),Object(a.jsx)(re.a,{align:"left",children:t.message}),Object(a.jsx)(re.a,{align:"left",children:t.priority}),Object(a.jsx)(re.a,{align:"left",children:Object(a.jsx)(k.b,{to:"/users/ticket/show/".concat(t._id),style:{textDecoration:"none"},children:Object(a.jsx)(F.a,{variant:"contained",color:"primary",children:"Show"})})}),Object(a.jsx)(re.a,{align:"left",children:Object(a.jsx)(F.a,{variant:"contained",color:"secondary",onClick:function(){return e.handleRemove(t._id)},children:"Remove"})}),Object(a.jsx)(re.a,{align:"left",children:Object(a.jsx)("input",{type:"checkbox",checked:t.isResolved,onChange:function(n){return e.handleCheckbox(n,t._id)}})})]},t._id)}))})]})}),Object(a.jsx)("br",{})]}):Object(a.jsx)("h2",{children:"No Tickets are complete to be displayed"})})}}]),n}(s.Component),ot=Object(M.b)((function(e){return{tickets:e.tickets.filter((function(e){return e.isResolved})),customers:e.customers,employees:e.employees,departments:e.departments}}))(it),lt=n(81),dt=n.n(lt),ut=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(D.a)(this,n),(a=t.call(this,e)).state={pie:{series:[0,0,0],options:{chart:{width:380,type:"pie"},labels:["High","Medium","Low"],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}},options:{chart:{id:"basic-bar"},xaxis:{categories:["HR","ACCOUNT"]}},series:[{name:"series-1",data:[10,20,30,40,50]}]},a}return Object(E.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){return e.setState({options:{colors:["#550a8a","#6d00c1","8510d8"],chart:{id:"basic-bar"},xaxis:{categories:e.props.departments.map((function(e){return e.name}))}},series:[{name:"series-1",data:e.props.departments.map((function(t){return e.props.tickets.filter((function(e){return e.department===t._id})).length}))}],pie:{series:[e.props.tickets.filter((function(e){return"High"===e.priority})).length,e.props.tickets.filter((function(e){return"Medium"===e.priority})).length,e.props.tickets.filter((function(e){return"Low"===e.priority})).length],options:{chart:{width:380,type:"donut"},plotOptions:{value:{show:!1,fontSize:"36px",fontFamily:"Helvetica, Arial, sans-serif",color:void 0,offsetY:10,formatter:function(e){return e}}},labels:["HIGH","MEDIUM","LOW"],responsive:[{breakpoint:480,options:{chart:{width:300},legend:{position:"bottom"}}}]}}})}),1e3)}},{key:"render",value:function(){return console.log(this.props.departments.map((function(e){return e.name})),"departments"),Object(a.jsxs)("div",{className:"app",align:"center",children:[Object(a.jsx)("h1",{children:"Priority of tasks"}),Object(a.jsx)(dt.a,{options:this.state.pie.options,series:this.state.pie.series,type:"donut",width:380}),Object(a.jsx)("h1",{children:"Tickets based on Departments"}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"mixed-chart",children:Object(a.jsx)(dt.a,{options:this.state.options,series:this.state.series,type:"bar",width:"500"})})}),Object(a.jsx)("br",{})]})}}]),n}(s.Component),jt=Object(M.b)((function(e){return{customers:e.customers,tickets:e.tickets,employees:e.employees,departments:e.departments}}))(ut),ht=n(5),mt=n(9),pt=n(201),bt=Object(ht.a)({root:{height:20,backgroundColor:Object(mt.e)("#8510d8",.5),borderRadius:20},bar:{borderRadius:20,backgroundColor:"#550a8a"}})(pt.a),Ot=Object(ee.a)((function(e){return{root:{flexGrow:1},margin:{margin:e.spacing(0)}}}));var xt=Object(M.b)((function(e){return{tickets:e.tickets}}))((function(e){var t=r.a.useState(0),n=Object(Pe.a)(t,2),s=n[0],c=n[1];e.dispatch(Qe());var i=Ot();return Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(k.b,{to:"/users/ticket/new",style:{textDecoration:"none"},children:Object(a.jsx)(F.a,{variant:"contained",color:"primary",children:"Add Ticket"})}),Object(a.jsx)(fe.a,{square:!0,children:Object(a.jsxs)(Ie.a,{onChange:function(e,t){c(t),console.log(s)},indicatorColor:"primary",textColor:"primary",value:s,centered:!0,children:[Object(a.jsx)(Ae.a,{label:"Pending"}),Object(a.jsx)(Ae.a,{label:"Completed"})]})}),0===s&&Object(a.jsx)(ct,{}),1===s&&Object(a.jsx)(ot,{}),Object(a.jsxs)("h1",{align:"center",children:[(e.tickets.filter((function(e){return e.isResolved})).length/e.tickets.length*100).toFixed(2),"%"]}),Object(a.jsx)("div",{style:{height:20,backgroundColor:"#8510d8",borderRadius:20},children:Object(a.jsx)("div",{className:i.root,children:Object(a.jsx)(bt,{className:i.margin,variant:"determinate",color:"secondary",value:e.tickets.filter((function(e){return e.isResolved})).length/e.tickets.length*100})})}),Object(a.jsx)(jt,{})]})})),ft=n(210),gt={PaperProps:{style:{maxHeight:224,width:250}}},vt=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(D.a)(this,n),(a=t.call(this,e)).handleChangeDropDown=function(e){console.log(e.target.value,"prop"),a.setState(Object(S.a)({},e.target.name,e.target.value))},a.handleClick=function(e){e.preventDefault();var t={code:a.state.code,customer:a.state.customer,department:a.state.department,employees:a.state.selected.map((function(e){return{_id:e}})),isResolved:!1,priority:a.state.priority,message:a.state.message};console.log(t);a.props.dispatch(function(e,t){return function(n){I.post("/tickets",e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(a){console.log(a.data),n(nt(e)),t()}))}}(t,(function(){return a.props.history.push("/users/tickets")})))},a.handleChange=function(e){var t,n=a.state.employees.map((function(e){return a.props.employees.find((function(t){return e===t.name}))._id}));a.setState((t={},Object(S.a)(t,e.target.name,e.target.value),Object(S.a)(t,"selected",n),t))},a.handleChangeChip=function(e){console.log(e.target.value),a.setState(Object(S.a)({},e.target.name,e.target.value))},a.state={code:"",customer:"",department:"",employees:[],priority:"",message:"",selected:[]},a}return Object(E.a)(n,[{key:"render",value:function(){var e=this;return console.log(this.state.selected,"this is empl"),Object(a.jsxs)("div",{align:"center",children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(L.a,{variant:"h4",children:"Add Ticket"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("form",{children:[Object(a.jsx)(he.a,{type:"text",label:"Code",value:this.state.code,name:"code",onChange:this.handleChange,style:{width:410}}),Object(a.jsx)("br",{}),Object(a.jsxs)(W.a,{style:{margin:1,minWidth:410},children:[Object(a.jsx)(H.a,{htmlFor:"grouped-select",children:"Customer"}),Object(a.jsx)(Ge.a,{defaultValue:"",name:"customer",input:Object(a.jsx)(He.a,{id:"grouped-select",value:this.state.customer}),onClick:this.handleChangeDropDown,children:this.props.customers.map((function(e){return Object(a.jsx)(Ue.a,{value:e._id,children:e.name},e._id)}))})]}),Object(a.jsx)("br",{}),Object(a.jsxs)(W.a,{style:{margin:1,minWidth:410},children:[Object(a.jsx)(H.a,{htmlFor:"grouped-select",children:"Department"}),Object(a.jsx)(Ge.a,{defaultValue:"",name:"department",input:Object(a.jsx)(He.a,{id:"grouped-select",value:this.state.department}),onClick:this.handleChangeDropDown,children:this.props.departments.map((function(e){return Object(a.jsx)(Ue.a,{value:e._id,children:e.name},e._id)}))})]}),Object(a.jsx)("br",{}),Object(a.jsxs)(W.a,{style:{minWidth:410,maxWidth:1e3},children:[Object(a.jsx)(H.a,{id:"demo-mutiple-chip-label",children:"Chip"}),Object(a.jsx)(Ge.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,name:"employees",onChange:this.handleChangeChip,input:Object(a.jsx)(He.a,{id:"select-multiple-chip",value:0!==this.state.employees.length?this.state.employees:[]}),renderValue:function(e){return Object(a.jsx)("div",{children:e.map((function(e){return Object(a.jsx)(ft.a,{label:e,style:{margin:2}},e)}))})},MenuProps:gt,children:this.props.employees.filter((function(t){return t.department._id===e.state.department})).map((function(e){return Object(a.jsx)(Ue.a,{value:e.name,children:e.name},e._id)}))})]}),Object(a.jsx)("br",{}),Object(a.jsxs)(W.a,{style:{margin:1,minWidth:410},children:[Object(a.jsx)(H.a,{htmlFor:"grouped-select",children:"Priority"}),Object(a.jsxs)(Ge.a,{defaultValue:"",name:"priority",input:Object(a.jsx)(He.a,{id:"grouped-select"}),onClick:this.handleChangeDropDown,children:[Object(a.jsx)(Ue.a,{value:"High",children:"High"}),Object(a.jsx)(Ue.a,{value:"Medium",children:"Medium"}),Object(a.jsx)(Ue.a,{value:"Low",children:"Low"})]})]}),Object(a.jsx)("br",{}),Object(a.jsx)(he.a,{type:"text",label:"Message",value:this.state.message,name:"message",onChange:this.handleChange,style:{width:410}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(F.a,{variant:"contained",onClick:this.handleClick,children:"Submit"})]})]})}}]),n}(s.Component),yt=Object(M.b)((function(e){return{employees:e.employees,departments:e.departments,customers:e.customers}}))(vt),kt={PaperProps:{style:{maxHeight:224,width:250}}},Ct=function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(D.a)(this,n),(a=t.call(this,e)).handleChangeDropDown=function(e){console.log(e.target.value,"prop"),a.setState(Object(S.a)({},e.target.name,e.target.value))},a.handleClick=function(e){e.preventDefault();var t={code:a.state.code,customer:a.state.customer,department:a.state.department,employees:a.state.selected.map((function(e){return{_id:e}})),isResolved:!1,priority:a.state.priority,message:a.state.message};console.log(t);a.props.dispatch(function(e,t,n){return function(a){I.put("/tickets/".concat(t),e,{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(s){console.log(s.data),a(tt(t,e)),n()}))}}(t,a.props.match.params.id,(function(){return a.props.history.push("/users/tickets")})))},a.handleChange=function(e){var t;console.log(a.state.selected,"selected");var n=a.state.employees.map((function(e){return a.props.employees.find((function(t){return e===t.name}))._id}));a.setState((t={},Object(S.a)(t,e.target.name,e.target.value),Object(S.a)(t,"selected",n),t))},a.handleChangeChip=function(e){console.log(e.target.value),a.setState(Object(S.a)({},e.target.name,e.target.value))},a.state={code:"",customer:"",department:"",employees:[],priority:"",message:"",selected:[]},a}return Object(E.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({code:e.props.tickets.code,customer:e.props.tickets.customer,department:e.props.tickets.department,employees:e.props.tickets.employees.map((function(t){return e.props.employees.find((function(e){return e._id===t._id})).name})),priority:e.props.tickets.priority,message:e.props.tickets.message})}),2e3)}},{key:"render",value:function(){var e=this;return console.log(this.state.selected,"this is empl"),Object(a.jsxs)("div",{align:"center",children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(L.a,{variant:"h4",children:"Add Ticket"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("form",{children:[Object(a.jsx)(he.a,{type:"text",label:"Code",value:this.state.code,name:"code",onChange:this.handleChange,style:{width:410}}),Object(a.jsx)("br",{}),Object(a.jsxs)(W.a,{style:{margin:1,minWidth:410},children:[Object(a.jsx)(H.a,{htmlFor:"grouped-select",children:"Customer"}),Object(a.jsx)(Ge.a,{defaultValue:"",name:"customer",input:Object(a.jsx)(He.a,{id:"grouped-select",value:this.state.customer}),onClick:this.handleChangeDropDown,children:this.props.customers.map((function(e){return Object(a.jsx)(Ue.a,{value:e._id,children:e.name},e._id)}))})]}),Object(a.jsx)("br",{}),Object(a.jsxs)(W.a,{style:{margin:1,minWidth:410},children:[Object(a.jsx)(H.a,{htmlFor:"grouped-select",children:"Department"}),Object(a.jsx)(Ge.a,{defaultValue:"",name:"department",input:Object(a.jsx)(He.a,{id:"grouped-select",value:this.state.department}),onClick:this.handleChangeDropDown,children:this.props.departments.map((function(e){return Object(a.jsx)(Ue.a,{value:e._id,children:e.name},e._id)}))})]}),Object(a.jsx)("br",{}),Object(a.jsxs)(W.a,{style:{minWidth:410,maxWidth:1e3},children:[Object(a.jsx)(H.a,{id:"demo-mutiple-chip-label",children:"Chip"}),Object(a.jsx)(Ge.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,name:"employees",onChange:this.handleChangeChip,input:Object(a.jsx)(He.a,{id:"select-multiple-chip",value:0!==this.state.employees.length?this.state.employees:[]}),renderValue:function(e){return Object(a.jsx)("div",{children:e.map((function(e){return Object(a.jsx)(ft.a,{label:e,style:{margin:2}},e)}))})},MenuProps:kt,children:this.props.employees.filter((function(t){return t.department._id===e.state.department})).map((function(e){return Object(a.jsx)(Ue.a,{value:e.name,children:e.name},e._id)}))})]}),Object(a.jsx)("br",{}),Object(a.jsxs)(W.a,{style:{margin:1,minWidth:410},children:[Object(a.jsx)(H.a,{htmlFor:"grouped-select",children:"Priority"}),Object(a.jsxs)(Ge.a,{defaultValue:"",name:"priority",value:this.state.priority,input:Object(a.jsx)(He.a,{id:"grouped-select"}),onClick:this.handleChangeDropDown,children:[Object(a.jsx)(Ue.a,{value:"High",children:"High"}),Object(a.jsx)(Ue.a,{value:"Medium",children:"Medium"}),Object(a.jsx)(Ue.a,{value:"Low",children:"Low"})]})]}),Object(a.jsx)("br",{}),Object(a.jsx)(he.a,{type:"text",label:"Message",value:this.state.message,name:"message",onChange:this.handleChange,style:{width:410}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(F.a,{variant:"contained",onClick:this.handleClick,children:"Submit"})]})]})}}]),n}(s.Component),wt=Object(M.b)((function(e,t){return{tickets:e.tickets.find((function(e){return e._id===t.match.params.id})),employees:e.employees,departments:e.departments,customers:e.customers}}))(Ct);var _t=Object(M.b)((function(e){return{tickets:e.tickets,employees:e.employees,customers:e.customers,departments:e.departments}}))((function(e){console.log(e.tickets);var t=0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length?e.tickets.map((function(t){return{_id:t._id,code:t.code,isResolved:t.isResolved,message:t.message,employees:t.employees.map((function(t){return e.employees.find((function(e){return e._id===t._id})).name})),department:e.departments.find((function(e){return e._id===t.department})).name,customer:e.customers.find((function(e){return e._id===t.customer})).name}})):"";return Object(a.jsxs)("div",{align:"center",children:[0!==e.tickets.length&&0!==e.employees.length&&0!==e.customers.length&&0!==e.departments.length&&Object(a.jsx)(Ye,{tickets:t.filter((function(t){return t._id===e.match.params.id}))}),Object(a.jsx)(k.b,{to:"/users/ticket/edit/".concat(e.match.params.id),children:"Edit"})]})})),St=(n(106),Object(ee.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})));var Dt=Object(M.b)((function(e){return{users:e.users}}))((function(e){var t=St();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{align:"sticky",children:Object(a.jsxs)(k.a,{children:[Object(a.jsx)(te.a,{position:"static",color:"inherit",children:Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(L.a,{variant:"h4",className:t.title,align:"left",color:"Red",children:"\ud83c\udfab Ticket Master\ud83c\udfab"}),0===Object.keys(e.users).length?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(k.b,{to:"/",style:{textDecoration:"underline"},children:Object(a.jsx)(F.a,{color:"default",children:Object(a.jsx)("span",{children:"Home"})})}),Object(a.jsx)(k.b,{to:"/users/login",style:{textDecoration:"underline"},children:Object(a.jsx)(F.a,{color:"default",children:Object(a.jsx)("span",{children:"Login"})})}),Object(a.jsx)(k.b,{to:"/users/register",style:{textDecoration:"underline"},children:Object(a.jsx)(F.a,{color:"default",children:Object(a.jsx)("span",{children:"Register"})})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(k.b,{to:"/",style:{textDecoration:"underline"},children:Object(a.jsx)(F.a,{color:"default",children:Object(a.jsx)("span",{children:"Home"})})}),Object(a.jsx)(k.b,{to:"/users/customers",style:{textDecoration:"underline"},children:Object(a.jsx)(F.a,{color:"default",children:Object(a.jsx)("span",{children:"Customers"})})}),Object(a.jsx)(k.b,{to:"/users/departments",style:{textDecoration:"underline"},children:Object(a.jsx)(F.a,{color:"default",children:Object(a.jsx)("span",{children:"Departments"})})}),Object(a.jsx)(k.b,{to:"/users/employees",style:{textDecoration:"underline"},children:Object(a.jsx)(F.a,{color:"default",children:Object(a.jsx)("span",{children:"Employees"})})}),Object(a.jsx)(k.b,{to:"/users/tickets",style:{textDecoration:"underline"},children:Object(a.jsx)(F.a,{color:"default",children:Object(a.jsx)("span",{children:"Tickets"})})}),Object(a.jsx)(k.b,{to:"/",style:{textDecoration:"underline"},children:Object(a.jsx)(F.a,{color:"default",onClick:function(t){N.a.fire({title:"Are you sure! you want to Logout ?",text:"Please login again in next visit",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Log Out"}).then((function(t){t.value&&(e.dispatch((function(e){I.delete("/users/logout",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){t.data.notice&&(localStorage.removeItem("authToken"),e(B()),window.location.href="/users/login")}))}))&&window.location.reload(!1),N.a.fire("Logged Out!","Your have been successfully logged out","success"))}))},children:Object(a.jsx)("span",{children:"Logout"})})})]})]})}),Object(a.jsx)(C.a,{path:"/",component:_,exact:!0}),Object(a.jsx)(C.a,{path:"/users/login",component:Q,exact:!0}),Object(a.jsx)(C.a,{path:"/users/register",component:$,exact:!0}),Object(a.jsx)(C.a,{path:"/users/customers",component:je,exact:!0}),Object(a.jsx)(C.a,{path:"/users/customers/new",component:pe,exact:!0}),Object(a.jsx)(C.a,{path:"/users/customers/show/:id",component:Le}),Object(a.jsx)(C.a,{path:"/users/customers/edit/:id",component:Oe}),Object(a.jsx)(C.a,{path:"/users/departments/:id",component:We}),Object(a.jsx)(C.a,{path:"/users/departments",component:we,exact:!0}),Object(a.jsx)(C.a,{path:"/departments/edit/:id",component:Ve,exact:!0}),Object(a.jsx)(C.a,{path:"/users/employees",component:Me,exact:!0}),Object(a.jsx)(C.a,{path:"/users/employees/new",component:qe,exact:!0}),Object(a.jsx)(C.a,{path:"/users/employees/show/:id",component:Je,exact:!0}),Object(a.jsx)(C.a,{path:"/users/employees/edit/:id",component:ze,exact:!0}),Object(a.jsx)(C.a,{path:"/users/tickets",component:xt,exact:!0}),Object(a.jsx)(C.a,{path:"/users/ticket/new",component:yt,exact:!0}),Object(a.jsx)(C.a,{path:"/users/ticket/edit/:id",component:wt,exact:!0}),Object(a.jsx)(C.a,{path:"/users/ticket/show/:id",component:_t,exact:!0})]})}),Object(a.jsx)("br",{})]})})),Et=y();Et.subscribe((function(){console.log(Et.getState())})),console.log(localStorage.getItem("authToken"),"Token"),localStorage.getItem("authToken")&&(Et.dispatch((function(e){I.get("/users/account",{headers:{"x-auth":localStorage.getItem("authToken")}}).then((function(t){var n=t.data;e(Y(n))}))})),Et.dispatch(oe()),Et.dispatch(ge()),Et.dispatch(_e()),Et.dispatch(Qe()));var Tt=Object(a.jsx)(M.a,{store:Et,children:Object(a.jsx)(Dt,{})});i.a.render(Tt,document.getElementById("root"))}},[[150,1,2]]]);
//# sourceMappingURL=main.07570072.chunk.js.map